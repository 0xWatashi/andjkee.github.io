<html>
    <body>
        <div style="text-align: center; height: 150; font-size: 50px;">
            Сюда ебани адресочек и узнаешь, сколько свапов в метамаске сделал)))
        </div> 
        <div style="text-align: center; height: 50;">
            <input style="height: 30; width: 400" id="address">
        </div>
        <div style=" text-align: center;">
            <button style="height: 30; width: 100;" onclick="checkSwaps()">ну и скока?</button>
        </div>
    </body>
    <script>
        let networks = [
            {network: "bsc-mainnet", contract: "0x1a1ec25DC08e98e5E93F1104B5e5cdD298707d31"},
            {network: "matic-mainnet", contract: "0x1a1ec25DC08e98e5E93F1104B5e5cdD298707d31"},
            {network: "arbitrum-mainnet", contract: "0x9dDA6Ef3D919c9bC8885D5560999A3640431e8e6"},
            {network: "avalanche-mainnet", contract: "0x1a1ec25DC08e98e5E93F1104B5e5cdD298707d31"},
            {network: "optimism-mainnet", contract: "0x9dDA6Ef3D919c9bC8885D5560999A3640431e8e6"}
        ]

        async function checkSwaps() {
            let totalSwaps = 0;
            let address = document.getElementById("address").value;
            let headers = new Headers();
            headers.set('Authorization', "Bearer cqt_rQJBM6C7TmcMmYWFxXjrRfHyfytV")
            if (address == "" || undefined ) {
                alert("Долбаеб, введи адрес")
            } else {
                for (let i = 0; i <= 4; i++) {
                    await fetch(`https://api.covalenthq.com/v1/${networks[i].network}/address/${address}/transactions_v3/`, {method: 'GET', headers: headers})
                    .then((res) => {
                        return res.json()
                    })
                    .then((data) => {
                        data.data.items.forEach(transaction => {
                        if (transaction.to_address == networks[i].contract) {
                            totalSwaps++;
                        }
                    })
                    })
                    
                }
                await alert(`Всего свапов: ${totalSwaps}`)
            }
        }
    </script>

</html>